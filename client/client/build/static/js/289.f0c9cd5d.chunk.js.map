{"version":3,"file":"static/js/289.f0c9cd5d.chunk.js","mappings":"mLAwGA,QAjGA,WACE,IAAI,SAAEA,EAAQ,aAAEC,IAAiBC,EAAAA,EAAAA,OAC7B,YAAEC,IAAgBC,EAAAA,EAAAA,KACnBC,GAAUA,EAAMC,oCAEdC,EAAKC,IAAUC,EAAAA,EAAAA,UAAS,IACzBC,GAAWC,EAAAA,EAAAA,MACXC,EAAMC,aAAaC,QAAQ,SAE/B,MAAMC,EAAeC,EAAAA,EAAMC,OAAO,CAChCC,QAAQ,CAACC,cAAc,UAADC,OAAWR,MAqBnC,OACES,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aAAYC,UACzBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,UAC9CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8BAA6BC,UAC1CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uCAAsCC,UACnDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,MAAKC,SAAC,wBAEtBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBC,UAEjCC,EAAAA,EAAAA,MAAA,QAAMC,SAAUxB,GA5BLyB,UACrBC,EAAQC,eAAiB,IAAIC,KAC7BF,EAAQG,mBAAqB,IAAID,KACjCF,EAAQI,UAAYF,KAAKG,MACzBL,EAAQM,SAAW9B,EAAY8B,SAC/BN,EAAQO,SAAW,GACnBP,EAAQQ,QAAS,EAElB,IAAIC,QAAUrB,EAAesB,KAAK,2CAA2CV,GAEvD,wBAAnBS,EAAIE,KAAKC,QACX7B,EAAS,sCAADU,OAAuCjB,EAAY8B,WAE3DzB,EAAO4B,EAAIE,KAAKC,QACjB,IAcwDhB,SAAA,EAC3CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOmB,QAAQ,QAAQlB,UAAU,aAAYC,SAAC,WAG9CF,EAAAA,EAAAA,KAAA,SACEoB,KAAK,OACLnB,UAAU,eACVoB,GAAG,WACC1C,EAAS,eAIjBwB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOmB,QAAQ,WAAWlB,UAAU,aAAYC,SAAC,uBAGjDC,EAAAA,EAAAA,MAAA,aACMxB,EAAS,YACb0C,GAAG,WACHpB,UAAU,cAAaC,SAAA,EAEvBF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,iBAAgBpB,SAAC,qBAC/BF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,cAAapB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,QAAOpB,SAAC,WACtBF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,gBAAepB,SAAC,oBAC9BF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,cAAapB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,UAAQsB,MAAM,MAAKpB,SAAC,eAGxBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOmB,QAAQ,UAAUlB,UAAU,aAAYC,SAAC,aAGhDF,EAAAA,EAAAA,KAAA,eACMrB,EAAS,WACbsB,UAAU,eACVoB,GAAG,UACHE,KAAK,WAITvB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBF,EAAAA,EAAAA,KAAA,UAAQoB,KAAK,SAASnB,UAAU,4BAA2BC,SAAC,wBAW9E,C","sources":["Components/add-article/AddArticle.js"],"sourcesContent":["import \"./AddArticle.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction AddArticle() {\r\n  let { register, handleSubmit } = useForm();\r\n  let { currentUser } = useSelector(\r\n    (state) => state.userAuthoruserAuthorLoginReducer\r\n  );\r\n  let [err, setErr] = useState(\"\");\r\n  let navigate = useNavigate();\r\n  let token=localStorage.getItem('token')\r\n  //create axios with token\r\n  const axiosWithToken=axios.create({\r\n    headers:{Authorization:`Bearer ${token}`}\r\n  })\r\n\r\n  const postNewArticle = async (article) => {\r\n    article.dateOfCreation = new Date();\r\n    article.dateOfModification = new Date();\r\n    article.articleId = Date.now();\r\n    article.username = currentUser.username;\r\n    article.comments = [];\r\n    article.status = true;\r\n   //make HTTP post req\r\n   let res=await axiosWithToken.post('http://localhost:4000/author-api/article',article)\r\n   \r\n   if(res.data.message===\"New article created\"){\r\n    navigate(`/author-profile/articles-by-author/${currentUser.username}`)\r\n   }else{\r\n    setErr(res.data.message)\r\n   }\r\n  };\r\n\r\n  //<p style=\"white-space: pre-line\">multi-line text</p>\r\n  return (\r\n    <div className=\"container \">\r\n      <div className=\"row justify-content-center mt-5\">\r\n        <div className=\"col-lg-8 col-md-8 col-sm-10\">\r\n          <div className=\"card shadow\">\r\n            <div className=\"card-title text-center border-bottom\">\r\n              <h2 className=\"p-3\">Write an Article</h2>\r\n            </div>\r\n            <div className=\"card-body bg-light\">\r\n              {/* {err.length!==0&&<p className='text-danger fs-5'>{err}</p>} */}\r\n              <form onSubmit={handleSubmit(postNewArticle)}>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"title\" className=\"form-label\">\r\n                    Title\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"title\"\r\n                    {...register(\"title\")}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Select a category\r\n                  </label>\r\n                  <select\r\n                    {...register(\"category\")}\r\n                    id=\"category\"\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"webdevelopment\">Web development</option>\r\n                    <option value=\"programming\">Programming</option>\r\n                    <option value=\"AI&ML\">AI&ML</option>\r\n                    <option value=\"cybersecurity\">Cyber Security</option>\r\n                    <option value=\"datascience\">Data Science</option>\r\n                    <option value=\"iot\">IOT</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"content\" className=\"form-label\">\r\n                    Content\r\n                  </label>\r\n                  <textarea\r\n                    {...register(\"content\")}\r\n                    className=\"form-control\"\r\n                    id=\"content\"\r\n                    rows=\"10\"\r\n                  ></textarea>\r\n                </div>\r\n\r\n                <div className=\"text-end\">\r\n                  <button type=\"submit\" className=\"btn text-light bg-success\">\r\n                    Post\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddArticle;"],"names":["register","handleSubmit","useForm","currentUser","useSelector","state","userAuthoruserAuthorLoginReducer","err","setErr","useState","navigate","useNavigate","token","localStorage","getItem","axiosWithToken","axios","create","headers","Authorization","concat","_jsx","className","children","_jsxs","onSubmit","async","article","dateOfCreation","Date","dateOfModification","articleId","now","username","comments","status","res","post","data","message","htmlFor","type","id","value","rows"],"sourceRoot":""}